## –ó–∞–¥–∞–Ω–∏–µ

### –ó–∞–¥–∞—á–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∫–Ω–∏–≥.

–°–æ–∑–¥–∞–π—Ç–µ RESTful API –Ω–∞ Spring Boot –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∫–Ω–∏–≥. API –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–Ω–∏–≥.
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–∏–≥–∏.
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–Ω–∏–≥–µ.
5. –£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É.

–ö–∞–∂–¥–∞—è –∫–Ω–∏–≥–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è: id, title, author, publishedDate.

## üöÄ–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ü–û –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

- –í–µ—Ä—Å–∏—è java: `Open JDK 21.0.7`
- –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏: `Apache Maven 3.9.9 `
- Wrapper: `maven-wrapper-3.3.2`

### –ü–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–±: –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ IntelliJ IDEA –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ü–ö

> –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ IntelliJ IDEA –í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `PostgreSQL` –∏ 
> —Å–æ–∑–¥–∞—Ç—å –ë–î —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º `books_db`. –õ–∏–±–æ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ—é –ë–î –≤ `PostgreSQL`, —Ç–æ–≥–¥–∞ –≤–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª
> `src/main/resources/application.properties` –≤ —Å—Ç—Ä–æ–∫—É `spring.datasource.url=jdbc:postgresql://localhost:5432/books_db`
> –≤–º–µ—Å—Ç–æ `books_db` —É–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –ë–î.

–î–∞–ª–µ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –û—Ç–∫—Ä—ã—Ç—å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∫–∞–∫ –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ IntelliJ IDEA
2. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª pom.xml
3. –í –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ pom.xml –ø–æ—è–≤–∏—Ç—Å—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é Maven. 
–ï—Å–ª–∏ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –Ω–µ –ø–æ—è–≤–∏–ª–æ—Å—å, –≤—ã –º–æ–∂–µ—Ç–µ —â–µ–ª–∫–Ω—É—Ç—å –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏ –Ω–∞ —Ñ–∞–π–ª–µ pom.xml –∏ –≤—ã–±—Ä–∞—Ç—å "Maven" -> "Reload project".
IntelliJ IDEA –Ω–∞—á–Ω–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏ –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ pom.xml.
4. –°–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ `LibraryOfBooks/` **.env.local** —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

   ### Enviromant variable
   #### Example .env.local —Ñ–∞–π–ª–∞:
   ```
   # Spring DB connection settings
   SPRING_DATASOURCE_URL_LOCAL=jdbc:postgresql://localhost:5432/books_db
   SPRING_DATASOURCE_USERNAME_LOCAL=your_user_name
   SPRING_DATASOURCE_PASSWORD_LOCAL=your_password
   ```
   
5. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª .env.local –∏–ª–∏ .env) –≤ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∑–∞–ø—É—Å–∫–∞ –µ—Å—Ç—å –ø–æ–ª–µ ¬´Environment variables¬ª, –≥–¥–µ –≤–µ—Å—Ç–∏ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É ¬´Browse for .env files and scripts¬ª –≤ –ø–æ–ª–µ. –í —Å–ª—É—á–∞–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ ‚Äî —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏—Ö –∑–∞–ø—è—Ç—ã–º–∏ (;)

   ![–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ-1](./materials/edit-configurations.png)

   ![–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ-2](./materials/environment-variables-path.png)   

6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –≤–µ—Ä—Ö–Ω–µ–º –ø—Ä–∞–≤–æ–º —É–≥–ª—É IntelliJ IDEA

   ![–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ-3](./materials/Run-in-IntelliJ-IDEA.png)

### –í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–±: –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Docker

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Docker –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker
2. –°–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ `LibraryOfBooks/` **.env.docker** —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

   ### Enviromant variable
   #### Example .env.docker —Ñ–∞–π–ª–∞:
   ```
   # PostgreSQL settings
   POSTGRES_DB=docker_books_db
   POSTGRES_USER=your_user
   POSTGRES_PASSWORD=your_password
   
   # Spring profile
   SPRING_PROFILES_ACTIVE=docker
   
   # Spring DB connection settings
   SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/docker_books_db
   SPRING_DATASOURCE_USERNAME=your_user
   SPRING_DATASOURCE_PASSWORD=your_password
   ```
   
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞ `LibraryOfBooks/`, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ñ–∞–π–ª `docker-compose.yml` –∏ —Ñ–∞–π–ª `Makefile`
4. –î–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤ –∏ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–∑ —Ñ–∞–π–ª–∞ `docker-compose.yml` –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

   ```bash
   make docker-build-up
   ```
   
   –í —Ü–µ–ª–æ–º, —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–±–∏—Ä–∞–µ—Ç Docker-–æ–±—Ä–∞–∑—ã (–µ—Å–ª–∏ –æ–Ω–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å) –∏ –∑–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ `docker-compose.yml`. –≠—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ `docker-build` –∏ `docker-up`

5. –î–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ `docker-compose.yml` –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

   ```bash
   make docker-build
   ```
   
6. –î–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

   ```bash
   make docker-up
   ```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Docker

1. –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

   ```bash
   make docker-down
   ```
   
2. –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∞ –∑–∞—Ç–µ–º —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö Docker-—Ä–µ—Å—É—Ä—Å–æ–≤ (–æ–±—Ä–∞–∑—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Å–µ—Ç–∏, —Ç–æ–º–∞) –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏—é –∫–æ–º–∞–Ω–¥—É:

   ```bash
   make docker-clean
   ```

–≠—Ç–æ –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞, —á–µ–º `docker-down`

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É `Postman`

#### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ IntelliJ IDEA –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –ü–ö

1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–Ω–∏–≥: `GET http://localhost:8080/books`
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É: `GET http://localhost:8080/books/id`, –≥–¥–µ id - –Ω–æ–º–µ—Ä –∫–Ω–∏–≥–∏
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–∏–≥–∏: `POST http://localhost:8080/books/add`. –í —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

   ```
   {
    "title": "IvanovLine –∫–æ–º–ø–∞–Ω–∏—è - –∫–∞–∫ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –∂–∏–∑–Ω–∏",
    "author": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "publishedDate": "2023-10-10"
   }
   ```
   
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–Ω–∏–≥–µ: `PUT http://localhost:8080/books/edit/id`, –≥–¥–µ id - –Ω–æ–º–µ—Ä –∫–Ω–∏–≥–∏. –í —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

   ```
   {
    "title": "IvanovLine Company Co.",
    "author": "Ivan Ivanov",
    "publishedDate": "2002-01-10"
   }
   ```
   
5. –£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É: `DEL http://localhost:8080/books/delete/id`, –≥–¥–µ id - –Ω–æ–º–µ—Ä –∫–Ω–∏–≥–∏

#### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Docker

1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–Ω–∏–≥: `GET http://localhost:/books`
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É: `GET http://localhost:/books/id`, –≥–¥–µ id - –Ω–æ–º–µ—Ä –∫–Ω–∏–≥–∏
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–∏–≥–∏: `POST http://localhost:/books/add`. –í —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

   ```
   {
    "title": "IvanovLine –∫–æ–º–ø–∞–Ω–∏—è - –∫–∞–∫ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –∂–∏–∑–Ω–∏",
    "author": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "publishedDate": "2023-10-10"
   }
   ```

4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–Ω–∏–≥–µ: `PUT http://localhost:/books/edit/id`, –≥–¥–µ id - –Ω–æ–º–µ—Ä –∫–Ω–∏–≥–∏. –í —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

   ```
   {
    "title": "IvanovLine Company Co.",
    "author": "Ivan Ivanov",
    "publishedDate": "2002-01-10"
   }
   ```

5. –£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É: `DEL http://localhost:/books/delete/id`, –≥–¥–µ id - –Ω–æ–º–µ—Ä –∫–Ω–∏–≥–∏
 